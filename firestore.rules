/**
 * @file Firestore Security Rules for Sanztech Template Vault.
 *
 * Core Philosophy:
 * This ruleset provides open read access to templates, affiliate tools, and template cards,
 * reflecting their public nature. Write access is completely disabled to prevent unauthorized data modification.
 *
 * Data Structure:
 * - /templates/{templateId}: Stores template entities.
 * - /affiliate_tools/{affiliateToolId}: Stores affiliate tool entities.
 * - /template_cards/{templateCardId}: Stores template card entities.
 *
 * Key Security Decisions:
 * - Public Read Access: All read operations (get, list) are allowed for all users, including unauthenticated users, as the data is intended to be publicly accessible.
 * - Write Access Denied: All write operations (create, update, delete) are explicitly denied to prevent unauthorized modifications.
 * - No Authentication Required: These collections do not require user authentication.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Grants public read access to templates and denies all write operations.
     * @path /templates/{templateId}
     * @allow (get, list): Any user can read template data.
     * @deny (create, update, delete): No user can create, update, or delete template data.
     * @principle Allows public read access for templates and disables write access to prevent unauthorized changes.
     */
    match /templates/{templateId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Grants public read access to affiliate tools and denies all write operations.
     * @path /affiliate_tools/{affiliateToolId}
     * @allow (get, list): Any user can read affiliate tool data.
     * @deny (create, update, delete): No user can create, update, or delete affiliate tool data.
     * @principle Allows public read access for affiliate tools and disables write access to prevent unauthorized changes.
     */
    match /affiliate_tools/{affiliateToolId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Grants public read access to template cards and denies all write operations.
     * @path /template_cards/{templateCardId}
     * @allow (get, list): Any user can read template card data.
     * @deny (create, update, delete): No user can create, update, or delete template card data.
     * @principle Allows public read access for template cards and disables write access to prevent unauthorized changes.
     */
    match /template_cards/{templateCardId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}